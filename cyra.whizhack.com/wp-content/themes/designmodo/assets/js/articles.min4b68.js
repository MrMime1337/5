jQuery(document).ready((function(e){function t(e,t){var o=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],i=/\.0+$|(\.[0-9]*[1-9])0+$/,n,a;for(n=o.length-1;n>0&&!(Math.abs(e)>=o[n].value);n--);return(e/o[n].value).toFixed(t).replace(i,"$1")+o[n].symbol}var o=e("body");e(window).on("ready load resizeEnd",(function(){var t=e("section#sidebar .sidebar-contents"),o,i=t.offset().top;window.sidebarHeight=t.height()+i-e(window).height()/4,window.sidebarWidth=t.width(),window.windowWidth=window.getWindowWidth()})),e(window).on("scroll ready load resizeEnd",(function(t){var i=e(window).scrollTop(),n=t.deltaY?Math.ceil(Math.abs(t.deltaY)*t.deltaFactor):0,a=200;window.windowWidth>1023&&i>window.sidebarHeight?(o.addClass("sidebarHidden"),e(window).trigger("equalize"),(i>window.sidebarHeight+1e3||window.isMobile)&&(o.addClass("noTransition"),setTimeout((function(){e(window).trigger("equalize")}),1e3))):(o.removeClass("sidebarHidden noTransition"),setTimeout((function(){e(window).trigger("equalize")}),1e3))}));var i=function(e,t){switch(""===t.text&&(t.text=document.title),""===t.url&&(t.url=document.location.href),e){case"facebook":window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t.url)+"&t="+t.text,"","toolbar=0, status=0, width=900, height=500");break;case"twitter":window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(t.text)+"&url="+encodeURIComponent(t.url)+"&via=designmodo","","toolbar=0, status=0,width=650, height=360");break;case"linkedin":window.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(t.url)+"&token=&isFramed=true","linkedin","toolbar=no, width=550, height=550");break;case"pinterest":window.open("https://pinterest.com/pin/create/button/?url="+encodeURIComponent(t.url)+"&media="+encodeURIComponent(t.image_url)+"&description="+t.text,"pinterest","toolbar=no, width=700, height=300");break;case"googleplus":window.open("https://plus.google.com/share?hl=en-US&url="+encodeURIComponent(t.url),"","toolbar=0, status=0, width=900, height=500");break}},n;e("p, li, em").selectionSharer(),e("article h1, article h2, article h3, article p").not(".skipOrphan").unorphanize(),e(window).on("ready load resizeEnd",(function(){var t=e("article.full-article .article-content"),o=100,i=t.offset();window.headerHeight=e("section.header").height(),window.articleHeight=t.height(),window.windowHeight=e(window).height(),window.articleOffsetTop=i.top-100})),e(window).on("scroll ready load resize resizeEnd",(function(t){if(!window.isMobile){var i=e(window).scrollTop(),n=i/2,a=i/3,r=i/window.headerHeight,s=1,l=1-.1*r,d=1-r,w=(i-window.articleOffsetTop)/(window.articleHeight-window.windowHeight/6);i<window.headerHeight?(e("section.header .title-container").css({"-webkit-transform":"translateY("+n+"px) scale("+l+")",transform:"translateY("+n+"px) scale("+l+")",opacity:d}),e("section.header:not(.slideshow) .background").css({"-webkit-transform":"scale(1) translateY("+a+"px)",transform:"scale(1) translateY("+a+"px)",opacity:1-r/1.2}),o.removeClass("contentPart").removeClass("bottomPart")):i>=window.headerHeight&&o.addClass("contentPart").removeClass("bottomPart"),w>=0&&w<=1?e(".panel.top .progress").removeClass("hide").css("width",100*w+"%"):w>1?o.removeClass("contentPart"):w<0&&e(".panel.top .progress").addClass("hide").css("width","0%")}})),e(".full-article-page .share").on("click","ul li",(function(){var t=e(this).attr("class").toLowerCase().match(/(facebook|twitter|linkedin|pinterest|googleplus)/i);if(console.log(e(this).attr("class").toLowerCase()),t){var o={url:e(this).closest(".share").data("post-url"),text:""};if("pinterest"===t[1]){var n=e(".full-article-page .header .background").css("background-image").replace(/^url\(['"](.+)['"]\)/,"$1");o.image_url="none"===n?"":n}i(t[1],o)}}));var a=parseInt(e(".total-number").attr("title"));if(e(".total-number").text(t(a,1)),window.location.hash.indexOf("comment")>=0){e(".comments").slideDown(),e(".button.leave-a-comment").remove();var r=window.location.hash.indexOf("comments")>=0?e("section.comments"):e(window.location.hash);e(window).on("load",(function(){e("html, body").animate({scrollTop:r.offset().top-80+"px"})})),window.location.toString().indexOf("#")>0&&"file:"!==location.protocol&&location.href.split("#")[0]&&(history.pushState?window.history.pushState("","",location.href.split("#")[0]):window.location.hash="")}}));